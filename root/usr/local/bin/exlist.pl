#!/usr/bin/perl -w

#############################################################################
# $Id: //depot/manatee/main/tools/bin/exlist.pl#3 $
#############################################################################
# Reads from STDIN a sequence nodes, and expands the range.
#
# Do not edit this file without using perforce!!!
#############################################################################

use Getopt::Std;                                # for getopts()
use strict;                                     # prevent typos
use FindBin '$Bin';				# locate libraries
#BEGIN { unshift(@INC,"$Bin/../lib") }

use Seco::FnSeco;

my( $line, %range, $entry, @entries, %trange, $delim);
use vars '$opt_h', '$opt_n', '$opt_d';

#############################################################################
# Check for -h
#############################################################################
if( !(getopts("hnd:")) || $opt_h)
{
	print "Usage:\texlist [-h] [-n] [-d <delimiter>]\n";
	print "\treads data from STDIN and expands the range\n";
	print "\tdefault delimiter is \\n\n";
	print "\t-n use comma as a delimiter\n";
	print "\t-d use specified delimiter\n";
	exit;
}

### Set the delimeter
if( defined($opt_n))
{
	$delim = ",";
} elsif( defined( $opt_d)) {
	$delim = $opt_d;
} else {
	$delim = "\n";
}

#############################################################################
# Main Code
#############################################################################
while( defined($line = <>))
{
	chomp($line);

	%trange = &ExpandRange( $line);
	foreach $entry (keys (%trange))
	{
		$range{$entry} = 1;
	}
}

foreach $entry (SortArrayByNode  (keys %range))
{
	$line .= "$entry$delim";
}
chop( $line);

print $line, "\n";
